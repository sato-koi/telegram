<div class="card mb-5">
  <div class="card-header bg-transparent">
    <% if post.user.avatar.attached? %>
      <%= image_tag post.user.avatar.variant(combine_options: { resize: "32x32", crop: "32x32+0+0", gravity: :center }).processed, class: "img-fluid rounded-circle" %>
    <% else %>
      <%= image_tag "no_image", class: "img-fluid rounded-circle" %>
    <% end %>
    <%= post.user.name %>
  </div>
  <%= link_to post do  %>
    <!-- mini_magickのメソッドを使用して画像サイズを変更して表示 -->
    <% if post.image.attached? %>
      <%= image_tag post.image.variant(combine_options: { resize: "800x800^", crop: "800x800+0+0", gravity: :center }).processed, class: "card-img" %>
    <% else %>
      <%= image_tag "no_image", class: "card-img" %>
    <% end %>
  <% end %>
  <div class="card-text">
    <p><%= truncate(post.caption, length: 90) %></p>
  </div>
</div>